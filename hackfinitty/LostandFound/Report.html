<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lost and Found Portal - Report</title>
  <link rel="stylesheet" href="style0.css">
</head>
<body>
  <header>
    <h1>Report Lost or Found Items</h1>
    <p class="subtitle">Help us reunite lost items with their owners by reporting here.</p>
  </header>

  <main class="container">
  <!-- Report Lost Item -->
  <section class="form-card lost">
    <h2>⚠️ Report Lost Item</h2>
    <form id="lostForm" enctype="multipart/form-data">
      <div class="input-group">
        <input type="text" name="itemName" placeholder="Lost item name (e.g., Wallet, Phone)" required>
        <button type="button" class="mic-btn" data-target="itemName">🎤</button>
      </div>

      <div class="input-group">
        <textarea name="itemDescription" placeholder="Description (brand, color, size, etc.)" required></textarea>
        <button type="button" class="mic-btn" data-target="itemDescription">🎤</button>
      </div>

      <div class="input-group">
        <input type="text" name="lastSeenLocation" placeholder="Last seen location (e.g., Library, Park)" required>
        <button type="button" class="mic-btn" data-target="lastSeenLocation">🎤</button>
      </div>
       <label for="itemImage">Upload Image:</label>
  <input type="file" id="itemImage" name="itemImage" accept="image/*" required><br><br>
      <button type="submit" class="submit-btn blue">Submit</button>
    </form>
  </section>

  <!-- Report Found Item -->
  <section class="form-card found">
    <h2>✔️ Report Found Item</h2>
    <form id="foundForm" enctype="multipart/form-data">
      <div class="input-group">
        <input type="text" name="itemName2" placeholder="Found item name (e.g., Keys, Sunglasses)" required>
        <button type="button" class="mic-btn" data-target="itemName2">🎤</button>
      </div>

      <div class="input-group">
        <textarea name="itemDescription2" placeholder="Description (brand, color, size, etc.)" required></textarea>
        <button type="button" class="mic-btn" data-target="itemDescription2">🎤</button>
      </div>

      <div class="input-group">
        <input type="text" name="foundLocation2" placeholder="Location found (e.g., Station, Café)" required>
        <button type="button" class="mic-btn" data-target="foundLocation2">🎤</button>
      </div>

       <label for="itemImage">Upload Image:</label>
  <input type="file" id="itemImage" name="itemImage" accept="image/*" required><br><br>

      <button type="submit" class="submit-btn green">Submit</button>
    </form>
  </section>
</main>

  <footer>
    <div class="footer-content">
      <p>&copy; 2025 Lost & Found Portal | Designed for Hackathons 🚀</p>
      <div class="footer-links">
        <a href="About.html">About</a> |
        <a href="ContactUs.html">Contact</a> |
      </div>
    </div>
  </footer>

  <script src=report.js></script>
  <script src="report2.js"></script>
  <script>
  function handleSubmit(formId, type) {
    const form = document.getElementById(formId);

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const data = new FormData(form);
      const itemName = data.get("itemName") || data.get("itemName2");
      const itemDescription = data.get("itemDescription") || data.get("itemDescription2");
      const location = data.get("lastSeenLocation") || data.get("foundLocation2");
      const imageFile = data.get("itemImage");

      const reader = new FileReader();
      reader.onload = function () {
        const newItem = {
          type,
          itemName,
          itemDescription,
          location,
          imageBase64: reader.result,
          submittedAt: new Date().toISOString(),
        };

        const existing = JSON.parse(localStorage.getItem("lostFoundItems") || "[]");
        existing.push(newItem);
        localStorage.setItem("lostFoundItems", JSON.stringify(existing));

        alert(`${type} item submitted successfully!`);
        form.reset();
      };

      if (imageFile) {
        reader.readAsDataURL(imageFile); // Convert image to base64
      }
    });
  }

  handleSubmit("lostForm", "Lost");
  handleSubmit("foundForm", "Found");
</script>

</body>
</html>
